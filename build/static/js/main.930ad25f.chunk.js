(window.webpackJsonpfrontend=window.webpackJsonpfrontend||[]).push([[0],{116:function(e,t,a){e.exports=a(258)},121:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){},229:function(e,t,a){e.exports=a.p+"static/media/logo.5cbbadf4.png"},258:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),o=a.n(l),c=(a(121),a(113)),s=(a(126),a(110)),u=a(24),i=a(8),m=a(45),p=a.n(m),g=a(35),h=a.n(g),d=a(30),b=a.n(d),f=a(46),E=a.n(f),v=a(29),O=a.n(v),S=a(64),w=a.n(S),y=a(11),j=a.n(y),k=a(15),x=a.n(k),C=a(63),T=a.n(C),N=a(2),P=a.n(N),_=a(61),$=a.n(_),F=a(106),L=a(107),I=a(114),R=a(108),B=a(115),q={rez:{"green-color":"rgb(4, 211, 97)","black-color":"rgb(19, 18, 26)","white-color":"rgb(255, 255, 255)","grey-color":"rgb(135, 134, 139)","button-color":"rgb(19, 18, 26)","text-color":"rgba(4, 211, 97)"},rez2:{"green-color":"rgba(4, 211, 97)","white-color":"rgb(19, 18, 26)","black-color":"rgb(255, 255, 255)","grey-color":"rgb(135, 134, 139)","text-color":"rgb(255, 255, 255)","button-color":"rgba(4, 211, 97)"}},G=(a(127),function(e){function t(){var e,a;Object(F.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(I.a)(this,(e=Object(R.a)(t)).call.apply(e,[this].concat(r)))).state={currentTheme:"rez"},a.setTheme=function(){var e=q[a.state.currentTheme];Object.keys(e).forEach((function(t){var a="--".concat(t),n=e[t];document.body.style.setProperty(a,n)}))},a.toggleTheme=function(){var e=Object.keys(q),t=e.indexOf(a.state.currentTheme);t===e.length-1?(a.setState({currentTheme:e[0]}),localStorage.setItem("@softboard:theme",0)):(a.setState({currentTheme:e[t+1]}),localStorage.setItem("@softboard:theme",t+1))},a}return Object(B.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("@softboard:theme")||"0",t=Object.keys(q);this.setState({currentTheme:t[e]}),this.setTheme()}},{key:"componentDidUpdate",value:function(e,t){this.state.currentTheme!==t.currentTheme&&this.setTheme()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{onClick:this.toggleTheme,className:"react-switch-checkbox",id:"react-switch-new",type:"checkbox"}),r.a.createElement("label",{className:"react-switch-label",htmlFor:"react-switch-new"},r.a.createElement("span",{className:"react-switch-button"})))}}]),t}(r.a.Component)),z=a(25),D=a.n(z),H=a(34),M=a(109),A=Object(M.create)({baseURL:"http://127.0.0.1:8000/api/v1",headers:{Accept:"application/json","Content-Type":"application/json"}});function J(e,t){return Q.apply(this,arguments)}function Q(){return(Q=Object(H.a)(D.a.mark((function e(t,a){var n,r=arguments;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=r.length>2&&void 0!==r[2]?r[2]:null)){e.next=5;break}return e.next=4,A.post(t,a,{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){return e.data})).catch((function(e){throw e}));case 4:return e.abrupt("return",e.sent);case 5:return e.next=7,A.post(t,a).then((function(e){return e.data})).catch((function(e){throw e}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e,t){return U.apply(this,arguments)}function U(){return(U=Object(H.a)(D.a.mark((function e(t,a){var n,r=arguments;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=r.length>2&&void 0!==r[2]?r[2]:null)){e.next=5;break}return e.next=4,A.get(t,a,{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){return e.data})).catch((function(e){throw e}));case 4:return e.abrupt("return",e.sent);case 5:return e.next=7,A.get(t,a).then((function(e){return e.data})).catch((function(e){throw e}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){var t=Object(n.useState)(!1),l=Object(i.a)(t,2),o=l[0],c=l[1],s=Object(n.useState)(null),u=Object(i.a)(s,2),m=u[0],g=u[1],d=Object(n.useState)(null),f=Object(i.a)(d,2),v=f[0],S=f[1],y=Object(n.useState)(null),k=Object(i.a)(y,2)[1],C=Object(n.useState)(null),N=Object(i.a)(C,2),_=N[0],F=N[1],L=Object(n.useState)(!1),I=Object(i.a)(L,2),R=I[0],B=I[1],q=function(){return B(!1)},z=Object(n.useState)(!1),D=Object(i.a)(z,2),H=D[0],M=D[1],A=function(){return M(!1)},Q=Object(n.useState)(null),U=Object(i.a)(Q,2),W=U[0],V=U[1],X=Object(n.useState)(null),Y=Object(i.a)(X,2),Z=Y[0],ee=Y[1],te=Object(n.useState)(!1),ae=Object(i.a)(te,2),ne=ae[0],re=ae[1],le=Object(n.useState)(!1),oe=Object(i.a)(le,2),ce=oe[0],se=oe[1],ue=Object(n.useState)(!1),ie=Object(i.a)(ue,2),me=ie[0],pe=ie[1],ge=function(){K("/user/",{},localStorage.getItem("@megua:access_token")).then((function(e){g(e.results[0].first_name),S(e.results[0].last_name),k(e.results[0].username),F(e.results[0].email)})).catch((function(e){console.log(e),401===e.status&&de()}))},he=function(e){J("/token/",e).then((function(e){c(!0),V(null),localStorage.setItem("@megua:access_token",e.access),localStorage.setItem("@megua:refresh_token",e.refresh),ge(),q()})).catch((function(e){console.log(e),e.status>=500?V("Ocorreu um problema interno. Por favor tente novamente mais tarde."):404===e.status?V("Ocorreu um problema interno. Por favor tente novamente mais tarde."):null===e.status?V("Ocorreu um problema interno. Por favor tente novamente mais tarde."):"No active account found with the given credentials"===e.data.detail&&V("Nome do usu\xe1rio ou password errados.")}))},de=function(){c(!1),g(!1),S(!1),k(!1),F(!1),localStorage.removeItem("@megua:access_token"),localStorage.removeItem("@megua:refresh_token")},be=localStorage.getItem("@megua:access_token");Object(n.useState)((function(){null!==be&&(c(!0),ge())}),[]);return r.a.createElement(h.a,{className:"navbar-line fixed-top",collapseOnSelect:!0,variant:"dark",expand:"lg",style:{backgroundColor:"--var(dark-color)"}},r.a.createElement(j.a,{show:R,onHide:q},r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement(j.a.Title,null,"Entrar")),r.a.createElement(j.a.Body,null,r.a.createElement(P.a,{id:"loginForm",onSubmit:function(e){e.preventDefault(),he({username:e.target.elements.username.value,password:e.target.elements.password.value})}},W&&r.a.createElement(T.a,{variant:"danger"},W),r.a.createElement(P.a.Group,null,r.a.createElement(P.a.Label,null,"Nome de usu\xe1rio"),r.a.createElement(P.a.Control,{type:"text",name:"username",placeholder:"Nome de usu\xe1rio",required:!0})),r.a.createElement(P.a.Group,null,r.a.createElement(P.a.Label,null,"Palavra passe"),r.a.createElement(P.a.Control,{type:"password",name:"password",placeholder:"Palavra passe",required:!0})))),r.a.createElement(j.a.Footer,null,r.a.createElement(x.a,{form:"loginForm",type:"submit",variant:"primary"},"Entrar"),r.a.createElement(x.a,{variant:"secondary",onClick:q},"Cancelar"))),r.a.createElement(j.a,{show:H,onHide:A},r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement(j.a.Title,null,"Registar")),r.a.createElement(j.a.Body,null,r.a.createElement(P.a,{id:"registerForm",onSubmit:function(e){var t;e.preventDefault(),J("/register/",t={username:e.target.elements.username.value,first_name:e.target.elements.fname.value,last_name:e.target.elements.lname.value,password:e.target.elements.password.value,password2:e.target.elements.cpassword.value,email:e.target.elements.email.value,email2:e.target.elements.cemail.value,user_type:e.target.elements.userType.value}).then((function(e){he({username:t.username,password:t.password}),ee(null),re(!1),pe(!1),se(!1),A()})).catch((function(e){if(console.log(e),re(!1),se(!1),pe(!1),ee(null),e.status>=500)ee("Ocorreu um problema interno. Por favor tente novamente mais tarde.");else if(404===e.status)ee("Ocorreu um problema interno. Por favor tente novamente mais tarde.");else if(null===e.status)ee("Ocorreu um problema interno. Por favor tente novamente mais tarde.");else if(e.data)for(var t in e.data)switch(e.data[t][0]){case"Emails must match":re(!0);break;case"Passwords must match":se(!0);break;case"user with this username already exists.":pe(!0)}}))}},Z&&Z.split(";").map((function(e){return r.a.createElement(T.a,{variant:"danger"},e)})),r.a.createElement(P.a.Group,null,r.a.createElement(P.a.Label,null,"Nome de usu\xe1rio"),r.a.createElement(P.a.Control,{type:"text",name:"username",placeholder:"Nome de usu\xe1rio",isInvalid:me,required:!0}),r.a.createElement(P.a.Control.Feedback,{type:"invalid"},"J\xe1 existe um usu\xe1rio com este nome")),r.a.createElement(P.a.Group,null,r.a.createElement(P.a.Label,null,"Palavra passe"),r.a.createElement(P.a.Control,{type:"password",name:"password",placeholder:"Palavra passe",required:!0})),r.a.createElement(P.a.Group,null,r.a.createElement(P.a.Label,null,"Confirmar palavra passe"),r.a.createElement(P.a.Control,{type:"password",name:"cpassword",autoComplete:"confirm-password",placeholder:"Confirmar palavra passe",isInvalid:ce,required:!0}),r.a.createElement(P.a.Control.Feedback,{type:"invalid"},"As passwords devem coincidir")),r.a.createElement(P.a.Group,null,r.a.createElement(P.a.Label,null,"Primeiro nome"),r.a.createElement(P.a.Control,{type:"text",name:"fname",placeholder:"Primeiro nome",required:!0})),r.a.createElement(P.a.Group,null,r.a.createElement(P.a.Label,null,"\xdaltimo nome"),r.a.createElement(P.a.Control,{name:"lname",placeholder:"\xdaltimo nome",required:!0})),r.a.createElement(P.a.Group,null,r.a.createElement(P.a.Label,null,"Email"),r.a.createElement(P.a.Control,{type:"email",name:"email",placeholder:"Email",required:!0})),r.a.createElement(P.a.Group,null,r.a.createElement(P.a.Label,null,"Confirmar email"),r.a.createElement(P.a.Control,{type:"email",name:"cemail",autoComplete:"confirm-email",placeholder:"Confirmar email",isInvalid:ne,required:!0}),r.a.createElement(P.a.Control.Feedback,{type:"invalid"},"Os emails devem coincidir")),r.a.createElement(P.a.Group,null,r.a.createElement(P.a.Label,null,"Tipo de utilizador"),r.a.createElement(P.a.Control,{as:"select",name:"userType"},r.a.createElement("option",{value:"ST"},"Estudante"),r.a.createElement("option",{value:"PROF"},"Professor"))))),r.a.createElement(j.a.Footer,null,r.a.createElement(x.a,{form:"registerForm",type:"submit",variant:"primary"},"Registar"),r.a.createElement(x.a,{variant:"secondary",onClick:A},"Cancelar"))),r.a.createElement(p.a,null,r.a.createElement(h.a.Brand,null,r.a.createElement(w.a,{src:a(229),alt:"Brand",style:{height:"3em"}})),r.a.createElement(h.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(h.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(P.a,{className:"ml-auto",onSubmit:function(t){t.preventDefault(),e.setSearch(t.target.elements.search.value)},inline:!0},r.a.createElement($.a,{type:"text",placeholder:"Pesquisar",className:" mr-sm-2",name:"search"}),r.a.createElement(x.a,{type:"submit"},"Pesquisar")),o?r.a.createElement(b.a,{className:"ml-auto"},r.a.createElement(E.a,null,r.a.createElement("div",{className:"ml-auto text-right"},r.a.createElement(O.a,null,m," ",v),r.a.createElement(O.a,{className:"mail-nav"},_)),r.a.createElement("div",{className:"mr-3"},r.a.createElement(w.a,{width:"50",height:"50",roundedCircle:!0,style:{border:"3px solid rgb(4, 211, 97)"},src:"https://avatars2.githubusercontent.com/u/17366849?v=4",alt:"Profile"}))),r.a.createElement(b.a.Link,{className:"button-nav",onClick:de},r.a.createElement("strong",null,"Logout"))):r.a.createElement(b.a,{className:"ml-auto"},r.a.createElement(b.a.Link,{className:"button-nav",onClick:function(){return B(!0)}},r.a.createElement("strong",null,"Entrar")),r.a.createElement(b.a.Link,{className:"button-nav",onClick:function(){return M(!0)}},r.a.createElement("strong",null,"Registar"))),r.a.createElement(G,null))))}A.addResponseTransform((function(e){if(!e.ok)throw e}));var V=a(66),X=a.n(V),Y=a(67),Z=a.n(Y),ee=a(65),te=a.n(ee),ae=a(36),ne=a.n(ae);function re(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),l=a[0],o=a[1];Object(n.useEffect)((function(){K(e.retrieve?""===e.search_string.trim()?"/exerciseRetrieve/":"/exerciseRetrieve/?search="+e.search_string:""===e.search_string.trim()?"/exercise/":"/exercise/?search="+e.search_string,{}).then((function(e){var t=[];0===e.results.length&&o([]),e.results.map(function(){var a=Object(H.a)(D.a.mark((function a(n,r){return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,K("/subheading/"+n.id+"/",{}).then((function(a){if(!n.hasNotSubHeadings){var l=0;a.results&&a.results.map((function(e){e.Question&&(e.Question=e.Question.replace(/href/g,"target='_blank' href")),e.Solution&&(e.Solution=e.Solution.replace(/href/g,"target='_blank' href")),e.Suggestion&&(e.Suggestion=e.Suggestion.replace(/href/g,"target='_blank' href")),a.results[l]=e,l++})),n.Subheadings=a.results}n.Problem=n.Problem.replace(/href/g,"target='_blank' href"),t[r]=n,r+1===e.results.length&&o(t)})).catch((function(e){console.log(e)}));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}())})).catch((function(e){console.log(e)}))}),[e.search_string]);var c=Object(n.useState)(!1),s=Object(i.a)(c,2),u=s[0],m=s[1],g=Object(n.useState)("Error"),h=Object(i.a)(g,2),d=h[0],b=h[1],f=Object(n.useState)("Error"),v=Object(i.a)(f,2),S=v[0],w=v[1],y=function(){return m(!1)},k=function(){return m(!0)};function C(e){return e.map((function(e,t){return t%2===0?r.a.createElement(ne.a.Context,{options:{asciimath2jax:{useMathMLspacing:!0,delimiters:[["$","$"]],preview:"none"}},key:t},r.a.createElement(ne.a.Text,{text:te()("<div>"+e+"<div>")})):r.a.createElement(ne.a.Context,{options:{asciimath2jax:{useMathMLspacing:!0,delimiters:[["$$","$$"],["$","$"]],preview:"none"}},key:t},r.a.createElement(ne.a.Text,{text:"$$"+e+"$$"}))}))}return r.a.createElement("div",{className:"content-body"},r.a.createElement("div",{className:"content"},r.a.createElement(p.a,null,r.a.createElement(E.a,null,l.map((function(e,t){return r.a.createElement(O.a,{key:t,xs:12,className:"mt-3"},r.a.createElement("h1",null,r.a.createElement("a",{href:"/exercise/"+e.ExerciseId,style:{color:"var(--white-color)"}},te()(e.Title))),C(e.Problem.split("$$")),e.Subheadings&&e.Subheadings.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("b",null,e.Order,") "),C(e.Question.split("$$")),r.a.createElement(X.a,{size:"sm",className:"mt-3 mb-3"},e.Suggestion&&r.a.createElement(x.a,{variant:"outline-warning",onClick:function(){b("Sugest\xe3o");var t=e.Suggestion.substring(1,e.Suggestion.length-1).split(",");w(t.map((function(e){return C((e.trim().substring(1,e.trim().length-1)+" ").split("$$"))}))),k()}},"Sugest\xe3o"),e.Solution&&r.a.createElement(x.a,{variant:"outline-danger",onClick:function(){b("Solu\xe7\xe3o"),w(C(e.Solution.split("$$"))),k()}},"Solu\xe7\xe3o"),e.Tags&&r.a.createElement(x.a,{variant:"outline-info",onClick:function(){b("Tags");var t=e.Tags.replace(/'/g,'"');w(JSON.parse(t).map((function(e,t){return r.a.createElement(Z.a,{variant:"info mr-2"},e)}))),k()}},"Tags")))})),r.a.createElement(X.a,{size:"sm",className:"mt-3 mb-3"},e.Suggestion&&r.a.createElement(x.a,{variant:"outline-warning",onClick:function(){b("Sugest\xe3o");var t=e.Suggestion.substring(1,e.Suggestion.length-1).split(",");w(t.map((function(e){return C((e.trim().substring(1,e.trim().length-1)+" ").split("$$"))}))),k()}},"Sugest\xe3o"),e.Solution&&r.a.createElement(x.a,{variant:"outline-danger",onClick:function(){b("Solu\xe7\xe3o"),w(C(e.Solution.split("$$"))),k()}},"Solu\xe7\xe3o"),e.Tags&&r.a.createElement(x.a,{variant:"outline-info",onClick:function(){b("Tags");var t=e.Tags.replace(/'/g,'"');w(JSON.parse(t).map((function(e,t){return r.a.createElement(Z.a,{variant:"info mr-2"},e)}))),k()}},"Tags"),e.Resolution&&r.a.createElement(x.a,{variant:"outline-success",size:"sm",className:"mt-3 mb-5",onClick:function(){b("Resolu\xe7\xe3o"),w(C(e.Resolution.split("$$"))),k()}},"Resolu\xe7\xe3o")))}))))),r.a.createElement(j.a,{show:u,onHide:y},r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement(j.a.Title,null,d)),r.a.createElement(j.a.Body,null,S),r.a.createElement(j.a.Footer,null,r.a.createElement(x.a,{variant:"danger",onClick:y},"Fechar"))))}function le(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],l=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"background"},r.a.createElement(W,{search_string:a,setSearch:l}),r.a.createElement(re,{search_string:a,setSearch:l})))}function oe(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],l=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"background"},r.a.createElement(W,{search_string:a,setSearch:l}),r.a.createElement(re,{search_string:a,setSearch:l})))}function ce(e){console.log(e.match.params.id);var t=Object(n.useState)(e.match.params.id),a=Object(i.a)(t,2),l=a[0],o=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"background"},r.a.createElement(W,{search_string:l,setSearch:o,retrieve:!0}),r.a.createElement(re,{search_string:l,setSearch:o,retrieve:!0})))}function se(){return r.a.createElement(s.a,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/",component:le,exact:!0}),r.a.createElement(u.a,{path:"/login",component:oe}),r.a.createElement(u.a,{path:"/exercise/:id",component:ce})))}var ue=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(se,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(257);var ie=a(112),me=a(33);function pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ge(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pe(a,!0).forEach((function(t){Object(ie.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var he={token:""};var de=Object(me.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TOKEN":return ge({},e,{token:t.token});case"REMOVE_TOKE":return ge({},e,{token:""});default:return e}}}),be=Object(me.c)(de);o.a.render(r.a.createElement(c.a,{store:be},r.a.createElement(ue,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[116,1,2]]]);
//# sourceMappingURL=main.930ad25f.chunk.js.map